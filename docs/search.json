[
  {
    "objectID": "notebooks/explore_ethereum_contracts_org.html",
    "href": "notebooks/explore_ethereum_contracts_org.html",
    "title": "Quarto Document",
    "section": "",
    "text": "This notebook demonstrates how to use the ethereum_contracts dataset to answer questions about the history of contracts on Ethereum.\nAdditional information about this dataset can be found here\nThe examples below use polars library to read the files directly without needing to import them to a database. Polars is also used in streaming mode, so that the dataset does not need to fit into memory.\n\n\nAll of these fun facts are computed in the examples below:\n- 20% of all ethereum contracts have been deployed by just 10 EOAs\n- 49% of all ethereum contracts have been created by just 10 factories\n- 56% of all ethereum contracts use just 10 bytecode templates\n- 0.46% of ethereum addresses have been deployed more than once\n- The most times that a single contract address has been deployed is 848\n- The most contracts deployed in a single transaction or block is 701\n- 57M contracts have been deployed by 4.2M EOAs using 492K factories\n- Only 878K unique contracts have been deployed\n- The most leading zeros in a contract address is 14, of which there are 2 contracts\n\n\nCode\nimport math\nimport os\nimport shutil\nimport subprocess\n\nimport ctc\nimport ctc.rpc\n# from ctc.toolbox import plot_utils\nimport polars as pl\nimport matplotlib.pyplot as plt\nimport toolplot\nimport numpy as np\nimport toolstr\n\n\n\n\nCode\n# set up env\n\n# plot_utils.set_column_display_width()\n\ndata_path = '/Users/nvtrang/code/ethereum/paradigm-data-portal/datasets/ethereum_contracts/ethereum_contracts__v1_0_0__*.parquet'\ndata_path = os.path.expanduser(data_path)"
  },
  {
    "objectID": "notebooks/explore_ethereum_contracts_org.html#ethereum-contracts-by-the-numbers",
    "href": "notebooks/explore_ethereum_contracts_org.html#ethereum-contracts-by-the-numbers",
    "title": "Quarto Document",
    "section": "",
    "text": "All of these fun facts are computed in the examples below:\n- 20% of all ethereum contracts have been deployed by just 10 EOAs\n- 49% of all ethereum contracts have been created by just 10 factories\n- 56% of all ethereum contracts use just 10 bytecode templates\n- 0.46% of ethereum addresses have been deployed more than once\n- The most times that a single contract address has been deployed is 848\n- The most contracts deployed in a single transaction or block is 701\n- 57M contracts have been deployed by 4.2M EOAs using 492K factories\n- Only 878K unique contracts have been deployed\n- The most leading zeros in a contract address is 14, of which there are 2 contracts\n\n\nCode\nimport math\nimport os\nimport shutil\nimport subprocess\n\nimport ctc\nimport ctc.rpc\n# from ctc.toolbox import plot_utils\nimport polars as pl\nimport matplotlib.pyplot as plt\nimport toolplot\nimport numpy as np\nimport toolstr\n\n\n\n\nCode\n# set up env\n\n# plot_utils.set_column_display_width()\n\ndata_path = '/Users/nvtrang/code/ethereum/paradigm-data-portal/datasets/ethereum_contracts/ethereum_contracts__v1_0_0__*.parquet'\ndata_path = os.path.expanduser(data_path)"
  },
  {
    "objectID": "notebooks/explore_ethereum_contracts.html",
    "href": "notebooks/explore_ethereum_contracts.html",
    "title": "Quarto Computations",
    "section": "",
    "text": "Code\nimport math\nimport os\nimport shutil\nimport subprocess\nimport ctc\nimport ctc.rpc\n# from ctc.toolbox import plot_utils\nimport polars as pl\nimport matplotlib.pyplot as plt\nimport toolplot\nimport numpy as np\nimport toolstr\nCode\n# setup environment\nos.chdir('../')"
  },
  {
    "objectID": "notebooks/explore_ethereum_contracts.html#what-data-are-we-looking-at",
    "href": "notebooks/explore_ethereum_contracts.html#what-data-are-we-looking-at",
    "title": "Quarto Computations",
    "section": "1.1 What data are we looking at?",
    "text": "1.1 What data are we looking at?\n\n\nCode\n# an example `parquet` file\ndf = pl.read_parquet('datasets/ethereum_contracts/ethereum_contracts__v1_0_0__00000000_to_00999999.parquet')\nwith pl.Config() as cfg:\n    # cfg.set_tbl_cols(-1)\n    # cfg.set_tbl_width_chars(200)\n    cfg.set_tbl_hide_dataframe_shape(True)\n    print(df.head())\n\n\n\n\nCode\n# all `parquet` files\ndata_path = '/Users/nvtrang/code/ethereum/paradigm-data-portal/datasets/ethereum_contracts/ethereum_contracts__v1_0_0__*.parquet'\ndata_path = os.path.expanduser(data_path)\n# dataset = pl.scan_parquet(data_path)\n\n\n\n\nCode\nresult = pl.scan_parquet(data_path).select(pl.col('block_number').min()).collect()\nmin_block_number = result['block_number'][0]\nmin_block_number\nprint(f'min_block_number: {min_block_number}')\n\n\n\n1.1.1 How many contract deployments have there been?\n\n\nCode\nresult = pl.scan_parquet(data_path).select(pl.col('create_index').count()).collect()\nn_deployments = result['create_index'][0]\n\nn_deployments"
  }
]